---
import defaultAttributes from './defaultAttributes';
import type { IconProps as Props } from './types';

const {
  name,
  color = 'currentColor',
  size = 24,
  strokeWidth = 2,
  absoluteStrokeWidth = false,
  iconNode = [],
  class: className,
  ...rest
} = Astro.props;
---

<svg
  {...{
    ...defaultAttributes,
    width: size,
    height: size,
    stroke: color,
    'stroke-width': absoluteStrokeWidth ? (Number(strokeWidth) * 24) / Number(size) : strokeWidth,
    ...rest,
  }}
  class:list={['lucide lucide-icon', className]}
>
  {/* TODO: Get types right later */}
  {iconNode.map(([Tag, attrs]) => <Tag {...attrs} />)}
  <slot />
</svg>
